(function(){"use strict";var t={4884:function(t,s,e){var n=e(6369),o=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[t.isAuth?s("SignedInHeader"):t._e(),s("router-view")],1)},r=[],i=(e(7658),e(3822)),a=function(){var t=this,s=t._self._c;return s("header",{staticClass:"header"},[s("div",{staticClass:"container header__inner"},[s("router-link",{attrs:{to:"/sports"}},[s("img",{staticClass:"logo__img",attrs:{src:e(1937)}})]),s("button",{staticClass:"header__btn",on:{click:t.signOut}},[t._v("Sign Out")])],1)])},u=[],l={methods:{...(0,i.nv)({signOut:"auth/signOut"})}},p=l,c=e(1001),h=(0,c.Z)(p,a,u,!1,null,null,null),d=h.exports,g=e(2631),f=function(){var t=this,s=t._self._c;return s("div",{staticClass:"signIn__wrapper"},[s("div",{staticClass:"signIn__content"},[s("h1",{staticClass:"signIn__title"},[t._v("Sign In")]),s("form",{staticClass:"signIn__form",on:{submit:function(s){return s.preventDefault(),t.signIn.apply(null,arguments)}}},[s("input",{staticClass:"signIn__input",attrs:{required:"",placeholder:"Login",type:"text"},domProps:{value:t.login},on:{input:function(s){return t.setLogin(s.target.value)}}}),s("input",{staticClass:"signIn__input",attrs:{required:"","model-value":t.password,placeholder:"Password",type:"password"},domProps:{value:t.password},on:{input:function(s){return t.setPassword(s.target.value)},"update:model-value":t.setPassword}}),s("div",{staticClass:"signIn__form-footer"},[t.valid?t._e():s("p",{staticClass:"signIn__err"},[t._v("Please enter valid data!")]),s("button",{staticClass:"signIn__btn"},[t._v("Sign In!")])])])])])},m=[],_={methods:{...(0,i.OI)({setLogin:"auth/setLogin",setPassword:"auth/setPassword"}),...(0,i.nv)({signIn:"auth/signIn"})},computed:{...(0,i.rn)({login:t=>t.auth.login,password:t=>t.auth.password,isAuth:t=>t.auth.isAuth,valid:t=>t.auth.valid})},mounted(){localStorage.getItem("token")&&K.push("/sports")}},v=_,S=(0,c.Z)(v,f,m,!1,null,"384614d0",null),w=S.exports,I=function(){var t=this,s=t._self._c;return s("section",{staticClass:"sports__wrapper signedIn"},[s("div",{staticClass:"container"},[s("div",{staticClass:"sports__inner"},[t.isAuth?s("SportsList"):t._e()],1)])])},k=[],A=function(){var t=this,s=t._self._c;return s("ul",{staticClass:"sports__list"},t._l(t.sports,(function(t){return s("SportsItem",{key:t.id,attrs:{sport:t}})})),1)},C=[],O=function(){var t=this,s=t._self._c;return s("li",{staticClass:"list__item"},[s("p",{staticClass:"list__item-title"},[t._v(t._s(t.sport.n))]),s("button",{staticClass:"list__item-btn",on:{click:function(s){return t.openSport(t.sport.c)}}},[t._v("Open!")])])},b=[],P={props:{sport:{type:Object,required:!0}},methods:{openSport(t){K.push(`/sports/${t}`)}}},y=P,T=(0,c.Z)(y,O,b,!1,null,null,null),Z=T.exports,x={computed:{...(0,i.rn)({sports:t=>t.sports.sportsArr,token:t=>t.auth.authToken})},mounted(){this.fetchSports()},methods:{...(0,i.nv)({fetchSports:"sports/fetchSports"})},components:{SportsItem:Z}},j=x,L=(0,c.Z)(j,A,C,!1,null,null,null),$=L.exports,q={computed:{...(0,i.rn)({isAuth:t=>t.auth.isAuth,sports:t=>t.sports.sportsArr})},methods:{...(0,i.nv)({fetchSports:"sports/fetchSports"})},components:{SportsList:$}},J=q,N=(0,c.Z)(J,I,k,!1,null,null,null),H=N.exports,V=function(){var t=this,s=t._self._c;return s("section",{staticClass:"singleSport"},[s("h1",{staticClass:"singleSport__title"},[t._v(t._s(t.singleSport.n))])])},z=[],D={computed:{...(0,i.rn)({isAuth:t=>t.auth.isAuth,sports:t=>t.sports.sportsArr}),...(0,i.Se)({singleSport:"sports/singleSport"})},methods:{...(0,i.OI)({setSlug:"sports/setSlug"})},mounted(){this.setSlug(this.$route.params.slug)}},E=D,F=(0,c.Z)(E,V,z,!1,null,null,null),M=F.exports;n.ZP.use(g.ZP);const B=[{path:"/",component:w},{path:"/sports",component:H},{path:"/sports/:slug",component:M}],G=new g.ZP({mode:"hash",base:"",routes:B});var K=G,Q={components:{SignedInHeader:d},computed:{...(0,i.rn)({isAuth:t=>t.auth.isAuth})},methods:{...(0,i.OI)({setToken:"auth/setToken",setAuth:"auth/setAuth",setSports:"sports/setSports"})},mounted(){localStorage.getItem("token")?(this.setAuth(!0),this.setToken(localStorage.getItem("token"))):"/"!==this.$route.path&&K.push("/")}},R=Q,U=(0,c.Z)(R,o,r,!1,null,null,null),W=U.exports;const X={namespaced:!0,state:()=>({isAuth:!1,authToken:"",login:"",password:"",valid:!0}),mutations:{setLogin(t,s){t.login=s},setPassword(t,s){t.password=s},setAuth(t,s){t.isAuth=s},setToken(t,s){t.authToken=s},setValid(t,s){t.valid=s}},getters:{},actions:{async signIn({state:t,commit:s}){try{const e=await fetch("https://paridirect-ussd.dev.smrtsrc.io/api/auth/signin",{method:"POST",redirect:"follow",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t.login,password:t.password})}),n=await e.json();e.ok?(s("setAuth",e.ok),s("setToken",n.token),localStorage.setItem("token",n.token),K.push("/sports")):(s("setValid",!1),s("setLogin",""),s("setPassword",""))}catch(e){alert(e)}},signOut({commit:t}){t("setAuth",!1),t("setToken",""),t("setLogin",""),t("setPassword",""),localStorage.setItem("token",""),localStorage.setItem("sports",""),K.push("/")}}},Y={namespaced:!0,state:()=>({sportsArr:[],slug:""}),mutations:{setSports(t,s){t.sportsArr=s},setSlug(t,s){t.slug=s}},actions:{async fetchSports({rootState:t,commit:s}){if(localStorage.getItem("sports"))s("setSports",JSON.parse(localStorage.getItem("sports")));else{const e=t.auth.authToken,n=await fetch("https://paridirect-ussd.dev.smrtsrc.io/api/sports-book/sports?culture=en",{headers:{Accept:"*/*",Authorization:e}}),o=await n.json();s("setSports",o),localStorage.setItem("sports",JSON.stringify(o))}}},getters:{singleSport(t){return t.slug&&t.sportsArr.length?t.sportsArr.find((s=>s.c===t.slug)):{n:""}}}};n.ZP.use(i.ZP);var tt=new i.ZP.Store({state:{string:"str"},getters:{},mutations:{},actions:{},modules:{auth:X,sports:Y}});n.ZP.config.productionTip=!1,new n.ZP({router:K,store:tt,render:t=>t(W)}).$mount("#app")},1937:function(t,s,e){t.exports=e.p+"img/logo.2fa7258a.svg"}},s={};function e(n){var o=s[n];if(void 0!==o)return o.exports;var r=s[n]={exports:{}};return t[n](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(s,n,o,r){if(!n){var i=1/0;for(p=0;p<t.length;p++){n=t[p][0],o=t[p][1],r=t[p][2];for(var a=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(e.O).every((function(t){return e.O[t](n[u])}))?n.splice(u--,1):(a=!1,r<i&&(i=r));if(a){t.splice(p--,1);var l=o();void 0!==l&&(s=l)}}return s}r=r||0;for(var p=t.length;p>0&&t[p-1][2]>r;p--)t[p]=t[p-1];t[p]=[n,o,r]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.p=""}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,n){var o,r,i=n[0],a=n[1],u=n[2],l=0;if(i.some((function(s){return 0!==t[s]}))){for(o in a)e.o(a,o)&&(e.m[o]=a[o]);if(u)var p=u(e)}for(s&&s(n);l<i.length;l++)r=i[l],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(p)},n=self["webpackChunknewage_assignment"]=self["webpackChunknewage_assignment"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(4884)}));n=e.O(n)})();
//# sourceMappingURL=app.362971e9.js.map